<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>채팅 예제 만들기 1 | Crispy bLog</title><meta name=keywords content="채팅 예시"><meta name=description content="TL;DR 채팅 예제를 만들어 본 후기 문서, 코드? 흥미 driven 개발. 채팅 예제 만들기 2 기대 요망. 채팅 예제 만들기 왜 와이 실력에 대한 고민을 하면서 저는 스스로를 반쪽짜리라고 생각해 왔습니다. 경험도, 지식도 부족한 반쪽짜리 개발자. 그래서 고민을 오래한 것 같습니다. 과연 잘하는 개발자란 무엇인가. 업무적으로 장애를 만나 수정할 기회가 없는 상황이라면, 성장하기 위해 무엇을 할 수 있을까. 고민 끝에 나온 결과는 &lsquo;하고 싶은 걸, 하고 있을 때, 하고 싶은 형식으로 개발할 수 있는 능력&rsquo;을 갖춰야 한다고 생각하게 되었습니다."><meta name=author content="Crispy"><link rel=canonical href=https://heozeop.github.io/post/develop-chat-example-1/><link crossorigin=anonymous href=/assets/css/stylesheet.d7fb4cbf980fe688a21621b06a795933c4e6bb2d4070ec940667af1715d84af2.css integrity="sha256-1/tMv5gP5oiiFiGwanlZM8Tmuy1AcOyUBmevFxXYSvI=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://heozeop.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://heozeop.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://heozeop.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://heozeop.github.io/apple-touch-icon.png><link rel=mask-icon href=https://heozeop.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="채팅 예제 만들기 1"><meta property="og:description" content="TL;DR 채팅 예제를 만들어 본 후기 문서, 코드? 흥미 driven 개발. 채팅 예제 만들기 2 기대 요망. 채팅 예제 만들기 왜 와이 실력에 대한 고민을 하면서 저는 스스로를 반쪽짜리라고 생각해 왔습니다. 경험도, 지식도 부족한 반쪽짜리 개발자. 그래서 고민을 오래한 것 같습니다. 과연 잘하는 개발자란 무엇인가. 업무적으로 장애를 만나 수정할 기회가 없는 상황이라면, 성장하기 위해 무엇을 할 수 있을까. 고민 끝에 나온 결과는 &lsquo;하고 싶은 걸, 하고 있을 때, 하고 싶은 형식으로 개발할 수 있는 능력&rsquo;을 갖춰야 한다고 생각하게 되었습니다."><meta property="og:type" content="article"><meta property="og:url" content="https://heozeop.github.io/post/develop-chat-example-1/"><meta property="og:image" content="https://heozeop.github.io/static/%ED%94%84%EB%A1%9C%ED%95%84%20%EC%9D%B4%EB%AF%B8%EC%A7%80.jpeg"><meta property="article:section" content="post"><meta property="article:published_time" content="2023-12-26T20:02:34+09:00"><meta property="article:modified_time" content="2023-12-26T20:02:34+09:00"><meta property="og:site_name" content="Crispy bLog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://heozeop.github.io/static/%ED%94%84%EB%A1%9C%ED%95%84%20%EC%9D%B4%EB%AF%B8%EC%A7%80.jpeg"><meta name=twitter:title content="채팅 예제 만들기 1"><meta name=twitter:description content="TL;DR 채팅 예제를 만들어 본 후기 문서, 코드? 흥미 driven 개발. 채팅 예제 만들기 2 기대 요망. 채팅 예제 만들기 왜 와이 실력에 대한 고민을 하면서 저는 스스로를 반쪽짜리라고 생각해 왔습니다. 경험도, 지식도 부족한 반쪽짜리 개발자. 그래서 고민을 오래한 것 같습니다. 과연 잘하는 개발자란 무엇인가. 업무적으로 장애를 만나 수정할 기회가 없는 상황이라면, 성장하기 위해 무엇을 할 수 있을까. 고민 끝에 나온 결과는 &lsquo;하고 싶은 걸, 하고 있을 때, 하고 싶은 형식으로 개발할 수 있는 능력&rsquo;을 갖춰야 한다고 생각하게 되었습니다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://heozeop.github.io/post/"},{"@type":"ListItem","position":2,"name":"채팅 예제 만들기 1","item":"https://heozeop.github.io/post/develop-chat-example-1/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"채팅 예제 만들기 1","name":"채팅 예제 만들기 1","description":"TL;DR 채팅 예제를 만들어 본 후기 문서, 코드? 흥미 driven 개발. 채팅 예제 만들기 2 기대 요망. 채팅 예제 만들기 왜 와이 실력에 대한 고민을 하면서 저는 스스로를 반쪽짜리라고 생각해 왔습니다. 경험도, 지식도 부족한 반쪽짜리 개발자. 그래서 고민을 오래한 것 같습니다. 과연 잘하는 개발자란 무엇인가. 업무적으로 장애를 만나 수정할 기회가 없는 상황이라면, 성장하기 위해 무엇을 할 수 있을까. 고민 끝에 나온 결과는 \u0026lsquo;하고 싶은 걸, 하고 있을 때, 하고 싶은 형식으로 개발할 수 있는 능력\u0026rsquo;을 갖춰야 한다고 생각하게 되었습니다.","keywords":["채팅 예시"],"articleBody":"TL;DR 채팅 예제를 만들어 본 후기 문서, 코드? 흥미 driven 개발. 채팅 예제 만들기 2 기대 요망. 채팅 예제 만들기 왜 와이 실력에 대한 고민을 하면서 저는 스스로를 반쪽짜리라고 생각해 왔습니다. 경험도, 지식도 부족한 반쪽짜리 개발자. 그래서 고민을 오래한 것 같습니다. 과연 잘하는 개발자란 무엇인가. 업무적으로 장애를 만나 수정할 기회가 없는 상황이라면, 성장하기 위해 무엇을 할 수 있을까. 고민 끝에 나온 결과는 ‘하고 싶은 걸, 하고 있을 때, 하고 싶은 형식으로 개발할 수 있는 능력’을 갖춰야 한다고 생각하게 되었습니다.\n채팅을 하기로 했습니다. 하고 싶은 걸 정리해보다 보니, 채팅이 떠올랐습니다. 그동안 개발하면서 채팅을 개발하는 경험은 없었습니다. 그렇게 가벼운 마음으로 채팅을 만들어 보자고 결정했습니다.\n디자인 처음에는 간단하게 처음에는 websocket을 이용해서 간단하게 채팅을 구현하는 걸 생각하였습니다. 언어는 익숙한 Javascript를 골랐고, 사용할 수 있는 library로 room등 편의 기능이 있는 socket.io로 선정했습니다. 그리고는 스펙을 아래와 같이 간단하게 정리하였습니다.\n채팅룸 만들기 채팅룸 참여하기 채팅룸 떠나기 채팅하기 돌아보니 간략한 4개 스펙이네요. 바로 실행했다면 빠르게 만들어 볼 수 있었겠다는 생각이 듭니다. 하지만 저는 만족하지 못했습니다. 프론트를 한번 짜두고 뒷단만 고쳐쓰고 싶다는 생각에 아키텍처를 검색하기 시작했죠. 아키텍처 문서들에서는 대규모 채팅서버를 설계하는 예시를 다루고 있었습니다. 네, 저는 혼자 쓸 서버에 대규모 시스템 설계를 접목하였습니다.\n그렇게 문서를 찾아보다 제가 꽃힌 것은 디스코드를 Next13으로 클론하는 유튜브 영상이었습니다. 영상에서는 채팅 서버를 외부 서비스를 사용했기 때문에 바로 따라할 수는 없었습니다. 하지만 디스코드를 클론한다는 아이디어가 처음 채팅 서비스를 개발한다는 입장에서 매력적으로 느껴졌습니다. 그렇게 결국 디스코드를 클론을 하기로 결정하였습니다.\n결국은 클론 저는 디스코드의 완벽한 클론이 아닌, 기능만 대충 따라 만든 가벼운 클론을 만들자는 목표를 세웠습니다. 시간과 흥미라는 자원을 고려해 내린 결정이었습니다.\n결정 직후 디스코드 화면 ui를 참고해 가볍게 db와 스펙을 설계하였습니다. 만들어 놓고 나니 채팅보다 기타 스펙이 엄청 커지게 되었습니다. 다행이도 향상심을 기반 삼아 진행을 할 수 있었습니다.\n개발은 새발 javascript로 서버를 구현 repo: javascript-socketio\n일단 javascript로 빠르게 구현하기로 한 만큼, 서버를 express로 개발하기 시작했습니다. 레포지터리의 구조는 다음 레포에서 따와서 개발을 시작했습니다. 스택은 Javascript, NodeJS, Express, Redis, PostgreSQL을 사용하였습니다. redis와 postgreSQL은 docker compose로 띄워서 사용했습니다.\n간단한 스크립팅 외에 Javascript만을 이용한 개발은 처음이었습니다. 이렇게 까지 불편할 줄 몰랐고, 평소 사용하는 Typescript나 타입 추론을 해주는 강타입 언어들에 새삼 감사함을 느낄 수 있었습니다. 개발 경험이 안 좋았던 것과는 별개로 기능은 정말 빨리 낸 것 같습니다. 결과적으로 web socket과 redis pub/sub을 이용한 채팅까지 빠르게 구현해볼 수 있었습니다.\nReact + vite로 프론트를 구현 repo: client-socketio\n프론트는 디스코드 ui를 대충 벗겨서 만들었습니다. 스택은 React + vite를 이용해 보았습니다. 다행이도 typescript를 기반해서 개발했기 때문에 서버를 짤때보다는 편하게 개발을 할 수 있었습니다. 개발의 편함과 별개로, 개발 결과물의 스타일은 많이 모자라다는 느낌을 받았습니다. 다시만들때는 dribble에서 영감을 먼저 받고 만들어야 겠다고 생각했습니다.\n개발하고 남은 것 얻은 것 일단 채팅 서버를 만들어보는 경험을 얻었습니다. 원하는 기능의 개발을 빠르게 할 수 있다는 자신감을 얻었습니다. 못해본 것들 다중 클라이언트 실험 제가 만든 JWT 인증 서비스가 정상 동작을 하지 않아 크롬으로 다중 클라이언트 실험을 진행하지 못했습니다. safari와 firefox의 cookie 설정 제한을 만나며, 다중 브라우저를 이용한 다중 클라이언트 실험도 진행하지 못했습니다. 채팅 메세지 저장 실시간 통신만 해보고 메세지를 저장하는 것을 해보지 못했습니다. 저장된 메세지 불러오기 디스코드 채팅방 참여했을때 볼 수 있는 것 처럼 메세지를 불러오는 기능을 구현하지 못했습니다. 테스트 하기 단위 테스트를 추가하지 않았습니다. load 테스트를 해보지 못했습니다. stress 테스트를 해보지 못했습니다. 문서의 작성 제대로 정의된 스펙 문서 없이 흥미 본위로 개발을 이어갔습니다. 다음에 해볼 것들 다중 클라이언트 로그인 제대로 인증을 구현해 볼겁니다. 크롬의 시크릿 모드에서 실험하고, safari/firefox에서 localhost가 cookie setting할 수 있게 해보려 합니다. 완성된 채팅 서비스의 구현 채팅, 메세지 저장, 메세지 조회, 동기화 등을 해보려 합니다. redis의 pub/sub을 이용해 web socket에서 동기화 하는 걸 알았으니, 저장할때 queue를 이용해 보려 합니다. plain web socket을 이용해 구현 이번에 구현하면서 socket io기능을 사용하지 않았습니다. 다음에는 그냥 websocket을 이용해 보려 합니다. 정확한 문서화 이번에 문서화를 대충하면서 느낀게 정확한 문서화가 되어있어야 개발이 빠르다는 것입니다. 스펙을 문서화 하는 방법을 검색해 먼저 문서화 하고 개발해보려 합니다. 재사용 가능한 프론트 만들기 이쁘게 만들어 보려 합니다. 이상 채팅 예제를 만들어본 경험을 정리한 글이었습니다.\n읽어 주셔서 감사합니다.\n","wordCount":"618","inLanguage":"en","datePublished":"2023-12-26T20:02:34+09:00","dateModified":"2023-12-26T20:02:34+09:00","author":{"@type":"Person","name":"Crispy"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://heozeop.github.io/post/develop-chat-example-1/"},"publisher":{"@type":"Organization","name":"Crispy bLog","logo":{"@type":"ImageObject","url":"https://heozeop.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://heozeop.github.io/ accesskey=h title="Crispy bLog (Alt + H)">Crispy bLog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://heozeop.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://heozeop.github.io/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://heozeop.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://heozeop.github.io/post/>Posts</a></div><h1 class=post-title>채팅 예제 만들기 1</h1><div class=post-meta><span title='2023-12-26 20:02:34 +0900 KST'>December 26, 2023</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;618 words&nbsp;·&nbsp;Crispy&nbsp;|&nbsp;<a href=https://github.com/heozeop/I-want-to-know-why/content/post/develop-chat-example-1.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><h1 id=tldr>TL;DR<a hidden class=anchor aria-hidden=true href=#tldr>#</a></h1><ol><li>채팅 예제를 만들어 본 후기</li><li>문서, 코드? 흥미 driven 개발.</li><li>채팅 예제 만들기 2 기대 요망.</li></ol><hr><h1 id=채팅-예제-만들기>채팅 예제 만들기<a hidden class=anchor aria-hidden=true href=#채팅-예제-만들기>#</a></h1><h2 id=왜-와이>왜 와이<a hidden class=anchor aria-hidden=true href=#왜-와이>#</a></h2><h3 id=실력에-대한-고민을-하면서>실력에 대한 고민을 하면서<a hidden class=anchor aria-hidden=true href=#실력에-대한-고민을-하면서>#</a></h3><p>저는 스스로를 반쪽짜리라고 생각해 왔습니다. 경험도, 지식도 부족한 반쪽짜리 개발자.
그래서 고민을 오래한 것 같습니다. 과연 잘하는 개발자란 무엇인가. 업무적으로 장애를 만나 수정할 기회가 없는 상황이라면, 성장하기 위해 무엇을 할 수 있을까.
고민 끝에 나온 결과는 &lsquo;하고 싶은 걸, 하고 있을 때, 하고 싶은 형식으로 개발할 수 있는 능력&rsquo;을 갖춰야 한다고 생각하게 되었습니다.</p><h3 id=채팅을-하기로-했습니다>채팅을 하기로 했습니다.<a hidden class=anchor aria-hidden=true href=#채팅을-하기로-했습니다>#</a></h3><p>하고 싶은 걸 정리해보다 보니, 채팅이 떠올랐습니다. 그동안 개발하면서 채팅을 개발하는 경험은 없었습니다. 그렇게 가벼운 마음으로 채팅을 만들어 보자고 결정했습니다.</p><h2 id=디자인>디자인<a hidden class=anchor aria-hidden=true href=#디자인>#</a></h2><h3 id=처음에는-간단하게>처음에는 간단하게<a hidden class=anchor aria-hidden=true href=#처음에는-간단하게>#</a></h3><p>처음에는 websocket을 이용해서 간단하게 채팅을 구현하는 걸 생각하였습니다. 언어는 익숙한 Javascript를 골랐고, 사용할 수 있는 library로 room등 편의 기능이 있는 socket.io로 선정했습니다.
그리고는 스펙을 아래와 같이 간단하게 정리하였습니다.</p><ol><li>채팅룸 만들기</li><li>채팅룸 참여하기</li><li>채팅룸 떠나기</li><li>채팅하기</li></ol><p>돌아보니 간략한 4개 스펙이네요. 바로 실행했다면 빠르게 만들어 볼 수 있었겠다는 생각이 듭니다.
하지만 저는 만족하지 못했습니다. 프론트를 한번 짜두고 뒷단만 고쳐쓰고 싶다는 생각에 아키텍처를 검색하기 시작했죠.
아키텍처 문서들에서는 대규모 채팅서버를 설계하는 예시를 다루고 있었습니다. 네, 저는 혼자 쓸 서버에 대규모 시스템 설계를 접목하였습니다.</p><p>그렇게 문서를 찾아보다 제가 꽃힌 것은 디스코드를 Next13으로 클론하는 유튜브 영상이었습니다.
영상에서는 채팅 서버를 외부 서비스를 사용했기 때문에 바로 따라할 수는 없었습니다.
하지만 디스코드를 클론한다는 아이디어가 처음 채팅 서비스를 개발한다는 입장에서 매력적으로 느껴졌습니다.
그렇게 결국 디스코드를 클론을 하기로 결정하였습니다.</p><h3 id=결국은-클론>결국은 클론<a hidden class=anchor aria-hidden=true href=#결국은-클론>#</a></h3><p>저는 디스코드의 완벽한 클론이 아닌, 기능만 대충 따라 만든 가벼운 클론을 만들자는 목표를 세웠습니다.
시간과 흥미라는 자원을 고려해 내린 결정이었습니다.</p><p>결정 직후 디스코드 화면 ui를 참고해 가볍게 db와 스펙을 설계하였습니다.
<img loading=lazy src=/chat_example_1_db.png alt=chat_example_1_db></p><p>만들어 놓고 나니 채팅보다 기타 스펙이 엄청 커지게 되었습니다.
다행이도 향상심을 기반 삼아 진행을 할 수 있었습니다.</p><h2 id=개발은-새발>개발은 새발<a hidden class=anchor aria-hidden=true href=#개발은-새발>#</a></h2><h3 id=javascript로-서버를-구현>javascript로 서버를 구현<a hidden class=anchor aria-hidden=true href=#javascript로-서버를-구현>#</a></h3><p>repo: <a href=https://github.com/chat-example/javascript-socketio>javascript-socketio</a></p><p>일단 javascript로 빠르게 구현하기로 한 만큼, 서버를 express로 개발하기 시작했습니다.
레포지터리의 구조는 <a href=https://github.com/anandundavia/express-api-structure/tree/master>다음 레포</a>에서 따와서 개발을 시작했습니다.
스택은 Javascript, NodeJS, Express, Redis, PostgreSQL을 사용하였습니다. redis와 postgreSQL은 docker compose로 띄워서 사용했습니다.</p><p>간단한 스크립팅 외에 Javascript만을 이용한 개발은 처음이었습니다. 이렇게 까지 불편할 줄 몰랐고, 평소 사용하는 Typescript나 타입 추론을 해주는 강타입 언어들에 새삼 감사함을 느낄 수 있었습니다.
개발 경험이 안 좋았던 것과는 별개로 기능은 정말 빨리 낸 것 같습니다. 결과적으로 web socket과 redis pub/sub을 이용한 채팅까지 빠르게 구현해볼 수 있었습니다.</p><h3 id=react--vite로-프론트를-구현>React + vite로 프론트를 구현<a hidden class=anchor aria-hidden=true href=#react--vite로-프론트를-구현>#</a></h3><p>repo: <a href=https://github.com/chat-example/client-socketio>client-socketio</a></p><p>프론트는 디스코드 ui를 대충 벗겨서 만들었습니다. 스택은 React + vite를 이용해 보았습니다.
다행이도 typescript를 기반해서 개발했기 때문에 서버를 짤때보다는 편하게 개발을 할 수 있었습니다.
개발의 편함과 별개로, 개발 결과물의 스타일은 많이 모자라다는 느낌을 받았습니다.
다시만들때는 dribble에서 영감을 먼저 받고 만들어야 겠다고 생각했습니다.</p><h2 id=개발하고-남은-것>개발하고 남은 것<a hidden class=anchor aria-hidden=true href=#개발하고-남은-것>#</a></h2><h3 id=얻은-것>얻은 것<a hidden class=anchor aria-hidden=true href=#얻은-것>#</a></h3><ol><li>일단 채팅 서버를 만들어보는 경험을 얻었습니다.</li><li>원하는 기능의 개발을 빠르게 할 수 있다는 자신감을 얻었습니다.</li></ol><h3 id=못해본-것들>못해본 것들<a hidden class=anchor aria-hidden=true href=#못해본-것들>#</a></h3><ol><li>다중 클라이언트 실험<ol><li>제가 만든 JWT 인증 서비스가 정상 동작을 하지 않아 크롬으로 다중 클라이언트 실험을 진행하지 못했습니다.</li><li>safari와 firefox의 cookie 설정 제한을 만나며, 다중 브라우저를 이용한 다중 클라이언트 실험도 진행하지 못했습니다.</li></ol></li><li>채팅 메세지 저장<ol><li>실시간 통신만 해보고 메세지를 저장하는 것을 해보지 못했습니다.</li></ol></li><li>저장된 메세지 불러오기<ol><li>디스코드 채팅방 참여했을때 볼 수 있는 것 처럼 메세지를 불러오는 기능을 구현하지 못했습니다.</li></ol></li><li>테스트 하기<ol><li>단위 테스트를 추가하지 않았습니다.</li><li>load 테스트를 해보지 못했습니다.</li><li>stress 테스트를 해보지 못했습니다.</li></ol></li><li>문서의 작성<ol><li>제대로 정의된 스펙 문서 없이 흥미 본위로 개발을 이어갔습니다.</li></ol></li></ol><h3 id=다음에-해볼-것들>다음에 해볼 것들<a hidden class=anchor aria-hidden=true href=#다음에-해볼-것들>#</a></h3><ol><li>다중 클라이언트 로그인<ol><li>제대로 인증을 구현해 볼겁니다.</li><li>크롬의 시크릿 모드에서 실험하고, safari/firefox에서 localhost가 cookie setting할 수 있게 해보려 합니다.</li></ol></li><li>완성된 채팅 서비스의 구현<ol><li>채팅, 메세지 저장, 메세지 조회, 동기화 등을 해보려 합니다.</li><li>redis의 pub/sub을 이용해 web socket에서 동기화 하는 걸 알았으니, 저장할때 queue를 이용해 보려 합니다.</li></ol></li><li>plain web socket을 이용해 구현<ol><li>이번에 구현하면서 socket io기능을 사용하지 않았습니다. 다음에는 그냥 websocket을 이용해 보려 합니다.</li></ol></li><li>정확한 문서화<ol><li>이번에 문서화를 대충하면서 느낀게 정확한 문서화가 되어있어야 개발이 빠르다는 것입니다.</li><li>스펙을 문서화 하는 방법을 검색해 먼저 문서화 하고 개발해보려 합니다.</li></ol></li><li>재사용 가능한 프론트 만들기<ol><li>이쁘게 만들어 보려 합니다.</li></ol></li></ol><hr><p>이상 채팅 예제를 만들어본 경험을 정리한 글이었습니다.</p><p>읽어 주셔서 감사합니다.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://heozeop.github.io/tags/%EC%B1%84%ED%8C%85-%EC%98%88%EC%8B%9C/>채팅 예시</a></li></ul><nav class=paginav><a class=next href=https://heozeop.github.io/post/postgresql-row-level-security/><span class=title>Next »</span><br><span>Postgresql Row Level Security(로우 레벨 시큐리티)</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share 채팅 예제 만들기 1 on twitter" href="https://twitter.com/intent/tweet/?text=%ec%b1%84%ed%8c%85%20%ec%98%88%ec%a0%9c%20%eb%a7%8c%eb%93%a4%ea%b8%b0%201&url=https%3a%2f%2fheozeop.github.io%2fpost%2fdevelop-chat-example-1%2f&hashtags=%ec%b1%84%ed%8c%85%ec%98%88%ec%8b%9c"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 채팅 예제 만들기 1 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fheozeop.github.io%2fpost%2fdevelop-chat-example-1%2f&title=%ec%b1%84%ed%8c%85%20%ec%98%88%ec%a0%9c%20%eb%a7%8c%eb%93%a4%ea%b8%b0%201&summary=%ec%b1%84%ed%8c%85%20%ec%98%88%ec%a0%9c%20%eb%a7%8c%eb%93%a4%ea%b8%b0%201&source=https%3a%2f%2fheozeop.github.io%2fpost%2fdevelop-chat-example-1%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 채팅 예제 만들기 1 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fheozeop.github.io%2fpost%2fdevelop-chat-example-1%2f&title=%ec%b1%84%ed%8c%85%20%ec%98%88%ec%a0%9c%20%eb%a7%8c%eb%93%a4%ea%b8%b0%201"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 채팅 예제 만들기 1 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fheozeop.github.io%2fpost%2fdevelop-chat-example-1%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 채팅 예제 만들기 1 on whatsapp" href="https://api.whatsapp.com/send?text=%ec%b1%84%ed%8c%85%20%ec%98%88%ec%a0%9c%20%eb%a7%8c%eb%93%a4%ea%b8%b0%201%20-%20https%3a%2f%2fheozeop.github.io%2fpost%2fdevelop-chat-example-1%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 채팅 예제 만들기 1 on telegram" href="https://telegram.me/share/url?text=%ec%b1%84%ed%8c%85%20%ec%98%88%ec%a0%9c%20%eb%a7%8c%eb%93%a4%ea%b8%b0%201&url=https%3a%2f%2fheozeop.github.io%2fpost%2fdevelop-chat-example-1%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer><script src=https://utteranc.es/client.js repo=heozeop/heozeop.github.io issue-term=title label=Comment theme=preferred-color-scheme crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2023 <a href=https://heozeop.github.io/>Crispy bLog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>