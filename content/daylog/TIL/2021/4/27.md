---
title: 좀 더 명확할 필요가 있다.
date: '2021-04-27'
description: '3.6점, recoil selector set, 렌더링이 2번 일어난다'
---

# recoil selector set

recoil에서 함수를 atom에 저장하고 싶으면 한번 감싸줘야 한다. 왜냐하면 실제 리코일에서 valueOrUpdate로 데이터를 처리하여 함수일 경우 한번 validation을 하기 때문이다. 그런데 오늘 한번 감싸지 않아도 렌더링이 된다길래 왜 그런거지 하고 있었다. 그 이유는 렌더되는 함수형 컴포넌트 즉, React.createElement함수를 리턴했던 것이었다. 이 함수가 한번 평가 되어 함수 호출이 아니라 일반 컴포넌트처럼 사용된다. 그래서 렌더링은 잘 되는 것 같다. 근데 그 형태를 보면 제대로 사용하는 것인지 잘 모르겠어서 조금 다른 방법을 쓰면 어떨까 생각이든다.

# 렌더링이 2번 일어난다

init 이벤트가 2번 일어난다는 것은 컴포넌트 2개가 마운트 되었다는 것을 의미한다. 평가 시점이 아니라 해당 요소가 마운트 되었다는 것을 주의하면서 접근하면 될 것 같다.
